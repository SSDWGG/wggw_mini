{"version":3,"file":"common.js","mappings":";;;;;;;;;;;;;;;;;AAAA;AACA;AAEA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;;AAEA;AACA;AAEA;AAAA;AACA;AACA;AACA;AACA;AAEA;AAAA;AACA;AACA;AACA;AACA;;AAGA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA","sources":["webpack://WGGW-mini/._src_custom-tab-bar_useTabBarStore.ts"],"sourcesContent":["import { defineStore } from 'pinia';\nimport Taro from '@tarojs/taro';\n\nexport const useTabBarStore = defineStore('tabbar', {\n  state: () => ({\n    selected: 0,\n    visible: true,\n  }),\n  getters: {\n    height: (state) => state.visible ? Taro.pxTransform(50) : '0px',\n  },\n  actions: {\n    setSelected(index: number) {\n      if (this.selected === index) return;\n      this.selected = index;\n    },\n    setVisible(visible: boolean) {\n      console.log('设置tab显隐',visible);\n      \n      this.visible = visible;\n    }\n  }\n});\n\n// 请同步 app.config.ts tabBar.list\nexport const tabList: Taro.TabBarItem[] = [\n  {\n    pagePath: 'pages/album/index', // 请确保 /pages/album/index.vue has definePageConfig.usingComponents\n    text: '相册',\n    iconPath: '../assets/images/tabbar/icon-tabbar-album.png',\n    selectedIconPath: '../assets/images/tabbar/icon-tabbar-album-active.png',\n  }, \n  {\n    pagePath: 'pages/mine/index', // 请确保 /pages/mine/index has definePageConfig.usingComponents\n    text: '个人中心',\n    iconPath: '../assets/images/tabbar/icon-tabbar-mine.png',\n    selectedIconPath: '../assets/images/tabbar/icon-tabbar-mine-active.png',\n  },\n];\n\n/**\n * 修正 tabbar selected\n * the path: 'pages/home/index' || '/pages/home/index'\n*/\nexport const adjustSelected = (path: string) => {\n  const index = tabList.findIndex(i => i.pagePath === path || `/${i.pagePath}` === path);\n  if (index >= 0) {\n    const tabbarStore = useTabBarStore();\n    tabbarStore.setSelected(index);\n  }\n};"],"names":[],"sourceRoot":""}